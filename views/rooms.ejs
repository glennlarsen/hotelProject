<!DOCTYPE html>
<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/rooms.css" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/navbar.css">
</head>

<body>
    <!-- Include the navbar -->
    <%- include('./partials/navbar', {username: username, userId: userId}) %>

        <section>
            <div class="container">
            <h2 class="p-3">Choose a room</h2>
            <div class="list-group">
                <% rooms.forEach(function(room) { %>
                    <div class="row px-3 py-1 w-100">
                        <span class="col py-1 <%=room.Users ? 'bg-warning' : 'bg-info'%>">Room for <%=room.Capacity%>
                                people<span class="right">Daily cost:
                                    <%=room.PricePerDay%>
                                </span></span>
                                <%if(username) {%>
                        <button
                            onclick="makeReservation('<%=userId%>','<%=room.id%>','http\:\/\/localhost:3000\/rooms\/reservation' )"
                            class="col btn btn-secondary"> Rent a room</button>
                            <%};%>
                        <a href="/hotels/<%=room.HotelId%>" class="col btn btn-secondary">
                            Hotel details</a>
                    </div>
                    <% }); %>
            </div>
            <% if (isAdmin){%>
                <button onclick="addRoom('http\:\/\/localhost:3000\/rooms', '<%= hotelId %>')"
                    class="btn btn-success right m-4">Add a new
                    Room</button>
                <%};%>
            </div>
        </section>

        <script src="../javascripts/makeReservation.js"></script>
        <script src="../javascripts/addRoom.js"></script>
</body>

</html>